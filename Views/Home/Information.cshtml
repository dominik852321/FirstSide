@model RestaurantMenu

@{
    ViewData["Title"] = "Information";
    var photoPath = "~/Image/" + (Model.Restaurant.ZdjecieUrl ?? "noimage.jpg");

}

<div class="row">
    <div class="col-12 rounded shadow-lg border mt-3 p-0" id="restauracje">
        <div class="row ">
            <div class="col-lg-6 ">
                <p class="display-3 text-center">@Model.Restaurant.Name</p>
                <div class="col-10 mx-auto">


                    <div id="przykladowaKaruzela3" class="carousel slide " data-ride="carousel">

                        <div class="carousel-inner">

                            <div class="carousel-item active">
                                <img class="rounded border shadow-lg w-100" height="400" src="@photoPath" asp-append-version="true">
                            </div>

                            @if (Model.Restaurant.photo != null)
                            {
                                @foreach (var pht in Model.Restaurant.photo)
                                {
                                    var photoPath2 = "~/Image/" + (pht.Zdjecie);
                                    <div class="carousel-item">
                                        <img class="rounded border shadow-lg w-100" height="400" src="@photoPath2" asp-append-version="true">
                                    </div>
                                }
                            }


                        </div>
                        <a class="carousel-control-prev" href="#przykladowaKaruzela3" role="button" data-slide="prev">
                            <span class="carousel-control-prev-icon" aria-hidden="true"></span>
                            <span class="sr-only">Poprzedni</span>
                        </a>
                        <a class="carousel-control-next" href="#przykladowaKaruzela3" role="button" data-slide="next">
                            <span class="carousel-control-next-icon" aria-hidden="true"></span>
                            <span class="sr-only">Następny</span>
                        </a>
                    </div>
                </div>

                <div class="row d-flex justify-content-around p-2">
                    <h3 class="text-muted">@Model.Restaurant.City</h3>
                    <h3 class="text-muted">@Model.Restaurant.UserName</h3>
                </div>
            </div>

            <div class="row col-lg-6">
                <div class="col-xl-6">
                    <p class="h1 text-capitalize text-center ">Informacje</p>
                    <div class="text-center">
                        <h5 class="lead">
                            Otwarte od @Model.Restaurant.Open do @Model.Restaurant.Close.
                        </h5>
                        <a class="btn btn-primary m-2" asp-action="EditInformation" asp-controller="Restaurant" asp-route-id="@Model.Restaurant.Id">Edytuj informacje</a>
                    </div>
                </div>
                <div class="col-xl-6 ">
                    <p class="h1 text-capitalize text-center">Wydarzenia</p>
                    <div class="text-center">

                        @if (Model.Restaurant.EventRestaurants != null)
                        {
                            @foreach (var events in Model.Restaurant.EventRestaurants)
                            {
                                <div class="form-row d-flex justify-content-around">

                                    <h5 class="text-muted">@Html.DisplayFor(item => events.Event.EventName)</h5>
                                    <h5 class="lead">@Html.DisplayFor(item => events.Event.DateStart)</h5>

                                </div>
                            }
                        }
                        else
                        {
                            <h5 class="lead">Obecnie nie ma wydarzeń organizowanych/ współorganizowanych</h5>
                        }
                        <a class="btn btn-primary m-2" asp-action="AddEvent" asp-controller="Event" asp-route-id="@Model.Restaurant.Id">Dodaj wydarzenie</a>

                    </div>
                </div>

                <div class="col-12">
                    <p class="display-4 text-center border-top p-0">Promocje</p>
                    @if (Model.Restaurant.Menu != null)
                    {
                        <div class="col-6 m-auto">
                            <ul class="list-group ">
                                <li class="list-group-item h6">@Model.Restaurant.Menu.Pizza% promotions on Pizza</li>
                                <li class="list-group-item h6">@Model.Restaurant.Menu.Foods% promotions on Foods</li>
                                <li class="list-group-item h6">@Model.Restaurant.Menu.Drink% promotions on Drinks</li>
                                <li class="list-group-item h6">@Model.Restaurant.Menu.Alcohol% promotions on Alcohols</li>

                            </ul>
                            <div class="btn-group d-flex justify-content-center">
                                <a class="btn btn-primary mt-2" asp-action="EditMenu" asp-controller="Restaurant" asp-route-id="@Model.Restaurant.Menu.Id">Edit menu</a>
                                <a class="btn btn-outline-primary mt-2" asp-action="Index" asp-controller="Home">Wróć</a>
                            </div>
                        </div>

                    }
                    else
                    {
                        <div class="col-md-4 mx-auto d-flex justify-content-center">
                            <div class="btn-group ">
                                <a class="btn btn-primary " asp-action="AddMenu" asp-controller="Restaurant" asp-route-id="@Model.Restaurant.Id">Add menu</a>
                                <a class="btn btn-outline-primary" asp-action="Index" asp-controller="Home">Wróć</a>
                            </div>
                        </div>
                    }
                    
                </div>


            </div>


            <div class="col-12">
                <div class="d-flex justify-content-end m-3">
                    <i class="far fa-trash-alt" id="DeleteRestaurant" data-toggle="modal" data-target="#DeleteRest"></i>
                </div>
            </div>

        </div>
    </div>

    <div class="modal fade" id="DeleteRest" tabindex="-1" role="dialog">
        <div class="modal-dialog modal-dialog-centered" role="document">
            <div class="modal-content">
                <div class="modal-header mx-auto">
                    <h5 class="modal-title">Czy napewno chcesz usunąć restaurację ?</h5>
                </div>
                <div class="modal-footer">
                    <div class="mx-auto row">
                        
                        <button type="button" class="btn btn-outline-secondary" data-dismiss="modal">Nie</button>
                        <form asp-action="DeleteRestaurant" asp-controller="Restaurant" asp-route-id="@Model.Restaurant.Id" method="post">
                            <button class="btn btn-outline-danger">Tak</button>
                        </form>
                    </div>
                </div>
            </div>
        </div>
    </div>

</div>